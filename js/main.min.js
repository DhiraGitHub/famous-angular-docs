function translateSquare(index){return 75*(index||0)}function escape(text){return text.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/"/g,"&quot;")}function setHtmlIe8SafeWay(element,html){var newElement=angular.element("<pre>"+html+"</pre>");return element.empty(),element.append(newElement.contents()),element}angular.module("famous-angular",["famous.angular"]).controller("homepageExamplesCtrl",["$scope",function($scope){$scope.options={grid:{dimensions:[2,2]}},$scope.squares=_.map(_.range(0,4),function(index){return{x:translateSquare(index)}}),$scope.repeatedItems=1,$scope.modifiers=[0,1,2],$scope.$watch("repeatedItems",function(value){$scope.modifiers=_.range(0,value)})}]).directive("square",["$famous",function($famous){var Transform=$famous["famous/core/Transform"],Transitionable=$famous["famous/transitions/Transitionable"],SnapTransition=$famous["famous/transitions/SnapTransition"],flipOut=Transform.rotateZ(Math.PI/2),flipIn=Transform.inverse(flipOut);return{restrict:"A",priority:3,link:function(scope){function enter(){return transform.set(Transform.multiply(transform.get(),flipIn),{duration:250,transition:SnapTransition}),opacity.set(1,{duration:250,curve:"easeOut"}),250}function leave(){return transform.set(Transform.multiply(transform.get(),flipOut),{duration:250,transition:SnapTransition}),opacity.set(0,{duration:250,curve:"easeIn"}),250}function halt(){scope.transform.halt()}var transform=new Transitionable(Transform.multiply(Transform.translate(translateSquare(scope.$index%4),60*Math.floor(scope.$index/4)+40,0),flipOut)),opacity=new Transitionable(0);angular.extend(scope,{enter:enter,leave:leave,halt:halt,opacity:opacity,transform:transform})}}}]);var directive={},service={value:{}},DEPENDENCIES={"angular.js":"http://code.angularjs.org/"+angular.version.full+"/angular.min.js","angular-resource.js":"http://code.angularjs.org/"+angular.version.full+"/angular-resource.min.js","angular-route.js":"http://code.angularjs.org/"+angular.version.full+"/angular-route.min.js","angular-animate.js":"http://code.angularjs.org/"+angular.version.full+"/angular-animate.min.js","angular-sanitize.js":"http://code.angularjs.org/"+angular.version.full+"/angular-sanitize.min.js","angular-cookies.js":"http://code.angularjs.org/"+angular.version.full+"/angular-cookies.min.js"};directive.jsFiddle=function(getEmbeddedTemplate,escape,script){return{terminal:!0,link:function(scope,element,attr){function hiddenField(name,value){return'<input type="hidden" name="'+name+'" value="'+escape(value)+'">'}var name="",stylesheet='<link rel="stylesheet" href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css">\n',fields={html:"",css:"",js:""};angular.forEach(attr.jsFiddle.split(" "),function(file,index){var fileType=file.split(".")[1];fields[fileType]+="html"==fileType?0==index?"<div ng-app"+(attr.module?'="'+attr.module+'"':"")+">\n"+getEmbeddedTemplate(file,2):"\n\n\n  <!-- CACHE FILE: "+file+' -->\n  <script type="text/ng-template" id="'+file+'">\n'+getEmbeddedTemplate(file,4)+"  </script>\n":getEmbeddedTemplate(file)+"\n"}),fields.html+="</div>\n",setHtmlIe8SafeWay(element,'<form class="jsfiddle" method="post" action="http://jsfiddle.net/api/post/library/pure/" target="_blank">'+hiddenField("title","AngularJS Example: "+name)+hiddenField("css","</style> <!-- Ugly Hack due to jsFiddle issue: http://goo.gl/BUfGZ --> \n"+stylesheet+script.angular+(attr.resource?script.resource:"")+"<style>\n"+fields.css)+hiddenField("html",fields.html)+hiddenField("js",fields.js)+'<button class="btn btn-primary"><i class="icon-white icon-pencil"></i> Edit Me</button></form>')}}},directive.ngSetText=["getEmbeddedTemplate",function(getEmbeddedTemplate){return{restrict:"CA",priority:10,compile:function(element,attr){setHtmlIe8SafeWay(element,escape(getEmbeddedTemplate(attr.ngSetText)))}}}],directive.ngHtmlWrap=["reindentCode","templateMerge",function(reindentCode,templateMerge){return{compile:function(element,attr){var properties={head:"",module:"",body:element.text()},html="<!doctype html>\n<html ng-app{{module}}>\n  <head>\n{{head:4}}  </head>\n  <body>\n{{body:4}}  </body>\n</html>";angular.forEach((attr.ngHtmlWrap||"").split(" "),function(dep){if(dep){dep=DEPENDENCIES[dep]||dep;var ext=dep.split(/\./).pop();"css"==ext?properties.head+='<link rel="stylesheet" href="'+dep+'" type="text/css">\n':"js"==ext?properties.head+='<script src="'+dep+'"></script>\n':properties.module='="'+dep+'"'}}),setHtmlIe8SafeWay(element,escape(templateMerge(html,properties)))}}}],directive.ngSetHtml=["getEmbeddedTemplate",function(getEmbeddedTemplate){return{restrict:"CA",priority:10,compile:function(element,attr){setHtmlIe8SafeWay(element,getEmbeddedTemplate(attr.ngSetHtml))}}}],directive.ngEvalJavascript=["getEmbeddedTemplate",function(getEmbeddedTemplate){return{compile:function(element,attr){var fileNames=attr.ngEvalJavascript.split(" ");angular.forEach(fileNames,function(fileName){var script=getEmbeddedTemplate(fileName);try{window.execScript?window.execScript(script||'""'):window.eval(script+"//@ sourceURL="+fileName)}catch(e){window.console?window.console.log(script,"\n",e):window.alert(e)}})}}}],directive.ngEmbedApp=["$templateCache","$browser","$rootScope","$location","$sniffer","$animate",function($templateCache,$browser,docsRootScope,$location,$sniffer,$animate){return{terminal:!0,link:function(scope,element,attrs){var embedRootScope,deregisterEmbedRootScope,modules=["ngAnimate"];modules.push(["$provide",function($provide){$provide.value("$templateCache",$templateCache),$provide.value("$anchorScroll",angular.noop),$provide.value("$browser",$browser),$provide.value("$sniffer",$sniffer),$provide.value("$animate",$animate),$provide.provider("$location",function(){this.$get=["$rootScope",function($rootScope){return docsRootScope.$on("$locationChangeSuccess",function(event,oldUrl,newUrl){$rootScope.$broadcast("$locationChangeSuccess",oldUrl,newUrl)}),$location}],this.html5Mode=angular.noop}),$provide.decorator("$rootScope",["$delegate",function($delegate){return embedRootScope=$delegate,embedRootScope.$$postDigestQueue=docsRootScope.$$postDigestQueue,deregisterEmbedRootScope=docsRootScope.$watch(function(){embedRootScope.$digest()}),embedRootScope}])}]),attrs.ngEmbedApp&&modules.push(attrs.ngEmbedApp),element.on("click",function(event){event.target.attributes.getNamedItem("ng-click")&&event.preventDefault()}),element.on("$destroy",function(){deregisterEmbedRootScope(),embedRootScope.$destroy()}),element.data("$injector",null),angular.bootstrap(element,modules)}}}],service.reindentCode=function(){return function(text,spaces){if(!text)return text;for(var i,lines=text.split(/\r?\n/),prefix="      ".substr(0,spaces||0);lines.length&&lines[0].match(/^\s*$/);)lines.shift();for(;lines.length&&lines[lines.length-1].match(/^\s*$/);)lines.pop();var minIndent=999;for(i=0;i<lines.length;i++){var line=lines[0],reindentCode=line.match(/^\s*/)[0];reindentCode!==line&&reindentCode.length<minIndent&&(minIndent=reindentCode.length)}for(i=0;i<lines.length;i++)lines[i]=prefix+lines[i].substring(minIndent);return lines.push(""),lines.join("\n")}},service.templateMerge=["reindentCode",function(indentCode){return function(template,properties){return template.replace(/\{\{(\w+)(?:\:(\d+))?\}\}/g,function(_,key,indent){var value=properties[key];return indent&&(value=indentCode(value,indent)),void 0==value?"":value})}}],service.getEmbeddedTemplate=["reindentCode",function(reindentCode){return function(id){var element=document.getElementById(id);return element?reindentCode(angular.element(element).html(),0):null}}],angular.module("bootstrapPrettify",[]).directive(directive).factory(service);var directive={};directive.runnableExample=["$templateCache",function(){var exampleClassNameSelector=".runnable-example-file",tpl='<nav class="runnable-example-tabs" ng-if="tabs">  <a ng-class="{active:$index==activeTabIndex}"ng-repeat="tab in tabs track by $index" href="" class="btn"ng-click="setTab($index)">    {{ tab }}  </a></nav>';return{restrict:"C",scope:!0,controller:["$scope",function($scope){$scope.setTab=function(index){var tab=$scope.tabs[index];$scope.activeTabIndex=index,$scope.$broadcast("tabChange",index,tab)}}],compile:function(element){return element.html(tpl+element.html()),function(scope,element){{var node=element[0],examples=node.querySelectorAll(exampleClassNameSelector),tabs=[];Date.now()}angular.forEach(examples,function(child){tabs.push(child.getAttribute("name"))}),tabs.length>0&&(scope.tabs=tabs,scope.$on("tabChange",function(e,index){angular.forEach(examples,function(child){child.style.display="none"});var selected=examples[index];selected.style.display="block"}),scope.setTab(0))}}}}],directive.dropdownToggle=["$document","$location","$window",function($document,$location){var close,openElement=null;return{restrict:"C",link:function(scope,element){scope.$watch(function(){return $location.path()},function(){close&&close()}),element.parent().on("click",function(){close&&close()}),element.on("click",function(event){event.preventDefault(),event.stopPropagation();var iWasOpen=!1;openElement&&(iWasOpen=openElement===element,close()),iWasOpen||(element.parent().addClass("open"),openElement=element,close=function(event){event&&event.preventDefault(),event&&event.stopPropagation(),$document.off("click",close),element.parent().removeClass("open"),close=null,openElement=null},$document.on("click",close))})}}}],directive.syntax=function(){return{restrict:"A",link:function(scope,element,attrs){function makeLink(type,text,link,icon){return'<a href="'+link+'" class="btn syntax-'+type+'" target="_blank" rel="nofollow"><span class="'+icon+'"></span> '+text+"</a>"}var html="",types={github:{text:"View on Github",key:"syntaxGithub",icon:"icon-github"},plunkr:{text:"View on Plunkr",key:"syntaxPlunkr",icon:"icon-arrow-down"},jsfiddle:{text:"View on JSFiddle",key:"syntaxFiddle",icon:"icon-cloud"}};for(var type in types){var data=types[type],link=attrs[data.key];link&&(html+=makeLink(type,data.text,link,data.icon))}var nav=document.createElement("nav");nav.className="syntax-links",nav.innerHTML=html;var node=element[0],par=node.parentNode;par.insertBefore(nav,node)}}},directive.tabbable=function(){return{restrict:"C",compile:function(element){var navTabs=angular.element('<ul class="nav nav-tabs"></ul>'),tabContent=angular.element('<div class="tab-content"></div>');tabContent.append(element.contents()),element.append(navTabs).append(tabContent)},controller:["$scope","$element",function($scope,$element){var selectedTab,navTabs=$element.contents().eq(0),ngModel=$element.controller("ngModel")||{},tabs=[];ngModel.$render=function(){var $viewValue=this.$viewValue;if((selectedTab?selectedTab.value!=$viewValue:$viewValue)&&(selectedTab&&(selectedTab.paneElement.removeClass("active"),selectedTab.tabElement.removeClass("active"),selectedTab=null),$viewValue)){for(var i=0,ii=tabs.length;ii>i;i++)if($viewValue==tabs[i].value){selectedTab=tabs[i];break}selectedTab&&(selectedTab.paneElement.addClass("active"),selectedTab.tabElement.addClass("active"))}},this.addPane=function(element,attr){function update(){tab.title=attr.title,tab.value=attr.value||attr.title,ngModel.$setViewValue||ngModel.$viewValue&&tab!=selectedTab||(ngModel.$viewValue=tab.value),ngModel.$render()}var li=angular.element("<li><a href></a></li>"),a=li.find("a"),tab={paneElement:element,paneAttrs:attr,tabElement:li};return tabs.push(tab),attr.$observe("value",update)(),attr.$observe("title",function(){update(),a.text(tab.title)})(),navTabs.append(li),li.on("click",function(event){event.preventDefault(),event.stopPropagation(),ngModel.$setViewValue?$scope.$apply(function(){ngModel.$setViewValue(tab.value),ngModel.$render()}):(ngModel.$viewValue=tab.value,ngModel.$render())}),function(){tab.tabElement.remove();for(var i=0,ii=tabs.length;ii>i;i++)tab==tabs[i]&&tabs.splice(i,1)}}}]}},directive.table=function(){return{restrict:"E",link:function(scope,element,attrs){attrs["class"]||element.addClass("table table-bordered table-striped code-table")}}};var popoverElement=function(){var object={init:function(){this.element=angular.element('<div class="popover popover-incode top"><div class="arrow"></div><div class="popover-inner"><div class="popover-title"><code></code></div><div class="popover-content"></div></div></div>'),this.node=this.element[0],this.element.css({display:"block",position:"absolute"}),angular.element(document.body).append(this.element);var inner=this.element.children()[1];this.titleElement=angular.element(inner.childNodes[0].firstChild),this.contentElement=angular.element(inner.childNodes[1]),this.element.on("click",function(event){event.preventDefault(),event.stopPropagation()});var self=this;angular.element(document.body).on("click",function(){self.visible()&&self.hide()})},show:function(x,y){this.element.addClass("visible"),this.position(x||0,y||0)},hide:function(){this.element.removeClass("visible"),this.position(-9999,-9999)},visible:function(){return this.position().y>=0},isSituatedAt:function(element){return this.besideElement?element[0]==this.besideElement[0]:!1},title:function(value){return this.titleElement.html(value)},content:function(value){return value&&value.length>0&&(value=marked(value)),this.contentElement.html(value)},positionArrow:function(position){this.node.className="popover "+position},positionAway:function(){this.besideElement=null,this.hide()},positionBeside:function(element){this.besideElement=element;var elm=element[0],x=elm.offsetLeft,y=elm.offsetTop;x-=30,y-=this.node.offsetHeight+10,this.show(x,y)},position:function(x,y){return null==x||null==y?{x:this.node.offsetLeft,y:this.node.offsetTop}:(this.element.css("left",x+"px"),void this.element.css("top",y+"px"))}};return object.init(),object.hide(),object};directive.popover=["popoverElement",function(popover){return{restrict:"A",priority:500,link:function(scope,element,attrs){element.on("click",function(event){event.preventDefault(),event.stopPropagation(),popover.isSituatedAt(element)&&popover.visible()?(popover.title(""),popover.content(""),popover.positionAway()):(popover.title(attrs.title),popover.content(attrs.content),popover.positionBeside(element))})}}}],directive.tabPane=function(){return{require:"^tabbable",restrict:"C",link:function(scope,element,attrs,tabsCtrl){element.on("$remove",tabsCtrl.addPane(element,attrs))}}},directive.foldout=["$http","$animate","$window",function($http,$animate,$window){return{restrict:"A",priority:500,link:function(scope,element,attrs){var container,loading,url=attrs.url;/\/build\//.test($window.location.href)&&(url="/build/docs"+url),element.on("click",function(){scope.$apply(function(){if(container)container.hasClass("ng-hide")?$animate.removeClass(container,"ng-hide"):$animate.addClass(container,"ng-hide");else{if(loading)return;loading=!0;var par=element.parent();container=angular.element('<div class="foldout">loading...</div>'),$animate.enter(container,null,par),$http.get(url,{cache:!0}).success(function(html){loading=!1,html='<div class="foldout-inner"><div calss="foldout-arrow"></div>'+html+"</div>",container.html(html),"block"==container.css("display")&&(container.css("display","none"),$animate.addClass(container,"ng-hide"))})}})})}}}],angular.module("bootstrap",[]).directive(directive).factory("popoverElement",popoverElement),angular.module("docsApp",["examples","bootstrap","bootstrapPrettify"]).controller("DocsController",["$scope","openPlunkr",function($scope,openPlunkr){$scope.openPlunkr=openPlunkr}]),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function($document){var openScope=null;this.open=function(dropdownScope){openScope||($document.on("click",closeDropdown),$document.on("keydown",escapeKeyBind)),openScope&&openScope!==dropdownScope&&(openScope.isOpen=!1),openScope=dropdownScope},this.close=function(dropdownScope){openScope===dropdownScope&&(openScope=null,$document.off("click",closeDropdown),$document.off("keydown",escapeKeyBind))};var closeDropdown=function(){openScope.$apply(function(){openScope.isOpen=!1})},escapeKeyBind=function(evt){27===evt.which&&closeDropdown()}}]).controller("DropdownController",["$scope","$attrs","dropdownConfig","dropdownService","$animate",function($scope,$attrs,dropdownConfig,dropdownService,$animate){var self=this,openClass=dropdownConfig.openClass;this.init=function(element){self.$element=element,$scope.isOpen=angular.isDefined($attrs.isOpen)?$scope.$parent.$eval($attrs.isOpen):!1},this.toggle=function(open){return $scope.isOpen=arguments.length?!!open:!$scope.isOpen},this.isOpen=function(){return $scope.isOpen},$scope.$watch("isOpen",function(value){$animate[value?"addClass":"removeClass"](self.$element,openClass),value?dropdownService.open($scope):dropdownService.close($scope),$scope.onToggle({open:!!value})}),$scope.$on("$locationChangeSuccess",function(){$scope.isOpen=!1})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",scope:{isOpen:"=?",onToggle:"&"},link:function(scope,element,attrs,dropdownCtrl){dropdownCtrl.init(element)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(scope,element,attrs,dropdownCtrl){dropdownCtrl&&(element.on("click",function(event){event.preventDefault(),event.stopPropagation(),element.hasClass("disabled")||element.prop("disabled")||scope.$apply(function(){dropdownCtrl.toggle()})}),element.attr({"aria-haspopup":!0,"aria-expanded":!1}),scope.$watch(dropdownCtrl.isOpen,function(isOpen){element.attr("aria-expanded",!!isOpen)}))}}}),angular.module("examples",[]).factory("formPostData",["$document",function($document){return function(url,fields){var form=angular.element('<form style="display: none;" method="post" action="'+url+'"></form>');angular.forEach(fields,function(value,name){var input=angular.element('<input type="hidden" name="'+name+'">');input.attr("value",value),form.append(input)}),$document.find("body").append(form),form[0].submit(),form.remove()}}]).factory("openPlunkr",["formPostData","$http","$q",function(formPostData,$http,$q){return function(exampleFolder){var exampleName="AngularJS Example";$http.get(exampleFolder+"/manifest.json").then(function(response){return response.data}).then(function(manifest){var filePromises=[],exampleNameParts=manifest.name.split("-");exampleNameParts.unshift("AngularJS"),angular.forEach(exampleNameParts,function(part,index){exampleNameParts[index]=part.charAt(0).toUpperCase()+part.substr(1)}),exampleName=exampleNameParts.join(" - ");var getFileName=function(filename,checkName){return-1!==filename.indexOf("/")&&(filename=filename.substr(filename.lastIndexOf("/")+1,filename.length)),checkName&&-1!==manifest.files.indexOf(filename)&&(filename="_"+filename),filename},pushLocalFile=function(filename,checkName){var deferred=$q.defer();return $http.get(exampleFolder+"/"+filename,{transformResponse:[]}).then(function(response){var innerFiles=[];filename=getFileName(filename,checkName);for(var reg=/<(?:script|link).*(?:src|href)="((?!(http|\/\/))(?:(?!").)+)"/gi,localResources=reg.exec(response.data);localResources&&localResources[1];)-1===manifest.files.indexOf(localResources[1])&&(innerFiles.push(pushLocalFile(localResources[1]),!0),response.data=response.data.replace(localResources[1],getFileName(localResources[1],!0))),localResources=reg.exec(response.data);innerFiles.length>0?$q.all(innerFiles).then(function(files){files=files||[],files.push({name:filename,content:response.data}),deferred.resolve(files)}):deferred.resolve({name:filename,content:response.data})},function(){deferred.reject()}),deferred.promise};return angular.forEach(manifest.files,function(filename){filePromises.push(pushLocalFile(filename))}),$q.all(filePromises)}).then(function(files){var postData={};angular.forEach(files,function(filesList){angular.isArray(filesList)?angular.forEach(filesList,function(file){postData["files["+file.name+"]"]=file.content}):postData["files["+filesList.name+"]"]=filesList.content}),postData["tags[0]"]="angularjs",postData["tags[1]"]="example",postData.private=!0,postData.description=exampleName,formPostData("http://plnkr.co/edit/?p=preview",postData)})}}]);