angular.module("famous-angular",["famous.angular","ui.router"]),angular.module("docsApp",["examples","bootstrap","bootstrapPrettify"]).controller("DocsController",["$scope","openPlunkr",function($scope,openPlunkr){$scope.openPlunkr=openPlunkr}]),angular.module("examples",[]).factory("formPostData",["$document",function($document){return function(url,fields){var form=angular.element('<form style="display: none;" method="post" action="'+url+'"></form>');angular.forEach(fields,function(value,name){var input=angular.element('<input type="hidden" name="'+name+'">');input.attr("value",value),form.append(input)}),$document.find("body").append(form),form[0].submit(),form.remove()}}]).factory("openPlunkr",["formPostData","$http","$q",function(formPostData,$http,$q){return function(exampleFolder){var exampleName="AngularJS Example";$http.get(exampleFolder+"/manifest.json").then(function(response){return response.data}).then(function(manifest){var filePromises=[],exampleNameParts=manifest.name.split("-");exampleNameParts.unshift("AngularJS"),angular.forEach(exampleNameParts,function(part,index){exampleNameParts[index]=part.charAt(0).toUpperCase()+part.substr(1)}),exampleName=exampleNameParts.join(" - ");var getFileName=function(filename,checkName){return-1!==filename.indexOf("/")&&(filename=filename.substr(filename.lastIndexOf("/")+1,filename.length)),checkName&&-1!==manifest.files.indexOf(filename)&&(filename="_"+filename),filename},pushLocalFile=function(filename,checkName){var deferred=$q.defer();return $http.get(exampleFolder+"/"+filename,{transformResponse:[]}).then(function(response){var innerFiles=[];filename=getFileName(filename,checkName);for(var reg=/<(?:script|link).*(?:src|href)="((?!(http|\/\/))(?:(?!").)+)"/gi,localResources=reg.exec(response.data);localResources&&localResources[1];)-1===manifest.files.indexOf(localResources[1])&&(innerFiles.push(pushLocalFile(localResources[1]),!0),response.data=response.data.replace(localResources[1],getFileName(localResources[1],!0))),localResources=reg.exec(response.data);innerFiles.length>0?$q.all(innerFiles).then(function(files){files=files||[],files.push({name:filename,content:response.data}),deferred.resolve(files)}):deferred.resolve({name:filename,content:response.data})},function(){deferred.reject()}),deferred.promise};return angular.forEach(manifest.files,function(filename){filePromises.push(pushLocalFile(filename))}),$q.all(filePromises)}).then(function(files){var postData={};angular.forEach(files,function(filesList){angular.isArray(filesList)?angular.forEach(filesList,function(file){postData["files["+file.name+"]"]=file.content}):postData["files["+filesList.name+"]"]=filesList.content}),postData["tags[0]"]="angularjs",postData["tags[1]"]="example",postData.private=!0,postData.description=exampleName,formPostData("http://plnkr.co/edit/?p=preview",postData)})}}]),angular.module("famous-angular").run(["$rootScope",function($rootScope){$rootScope.$on("$stateChangeStart",function(e,toState,toParams,fromState){var classes=[toState.data.cssClass,fromState&&fromState.data?fromState.data.cssClass:""].join(" ");$rootScope.stateClasses=classes})}]),angular.module("famous-angular").controller("homepageCtrl",["$scope",function(){}]),angular.module("famous-angular").controller("homepageExamplesCtrl",["$scope",function($scope){function translateSquare(index){return 75*(index||0)}$scope.options={grid:{dimensions:[2,2]}},$scope.squares=_.map(_.range(0,4),function(index){return{x:translateSquare(index)}}),$scope.modifiers=[0,1,2],$scope.data={rangeValue:0,repeatedItems:1},$scope.translateX=function(rangeValue){var sliderWidth=300,leftOffset=-20;return rangeValue?Number(rangeValue)/100*sliderWidth+leftOffset:0+leftOffset},$scope.$watch("data.repeatedItems",function(value){$scope.modifiers=_.range(0,value)})}]),angular.module("famous-angular").run(["$rootScope","$famous","$timeline","$state",function($rootScope,$famous,$timeline,$state){function getTimelineFromScroll(){var pageYOffset=window.pageYOffset,scrollMax=$rootScope.bodyHeight-window.innerHeight;return t=$timeline([[0,0,function(x){return x}],[scrollMax,(stateCount-1)*rangePerState]])(pageYOffset)}function determineState(t){for(var i=0;i<scrollStates.length;i++){var state=scrollStates[i];if(t<state.max){$state.go(state.name);break}}}function determineScrollPositionFromState(){for(var newState=$state.current,i=0;i<scrollStates.length;i++){var state=scrollStates[i];if(newState.name===state.name){var beginningOfStateRange=state.max-rangePerState+5,scrollMax=$rootScope.bodyHeight-window.innerHeight,newScrollY=$timeline([[0,0,function(x){return x}],[(stateCount-1)*rangePerState,scrollMax]])(beginningOfStateRange);window.scrollTo(0,newScrollY);break}}}$rootScope.bodyHeight=5e3;var rangePerState=100,stateCount=7,scrollStates=[{max:100,name:"intro"},{max:200,name:"1"},{max:300,name:"2"},{max:400,name:"3"},{max:500,name:"4"},{max:600,name:"5"}],initialPageLoad=!0;window.onscroll=function(){if(!initialPageLoad){var t=getTimelineFromScroll();determineState(t)}},$rootScope.$on("$stateChangeSuccess",function(){initialPageLoad&&(determineScrollPositionFromState(),initialPageLoad=!1)})}]),angular.module("famous-angular").config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state("intro",{url:"/intro",templateUrl:"templates/state-intro.html",controller:"stateIntroCtrl",data:{leaveAnimationDuration:400,cssClass:"state-intro"}}).state("1",{url:"/1",templateUrl:"templates/state-1.html",controller:"state1Ctrl",data:{leaveAnimationDuration:600,cssClass:"state-1"}}).state("2",{url:"/2",templateUrl:"templates/state-2.html",controller:"state2Ctrl",data:{leaveAnimationDuration:600,cssClass:"state-2"}}).state("3",{url:"/3",templateUrl:"templates/state-3.html",controller:"state3Ctrl",data:{leaveAnimationDuration:1200,cssClass:"state-3"}}).state("4",{url:"/4",templateUrl:"templates/state-4.html",controller:"state4Ctrl",data:{leaveAnimationDuration:600,cssClass:"state-4"}}).state("5",{url:"/5",templateUrl:"templates/state-5.html",controller:"state5Ctrl",data:{leaveAnimationDuration:1200,cssClass:"state-5"}}),$urlRouterProvider.otherwise("intro")}]),angular.module("famous-angular").directive("square",["$famous",function($famous){var Transform=$famous["famous/core/Transform"],Transitionable=$famous["famous/transitions/Transitionable"],SnapTransition=$famous["famous/transitions/SnapTransition"],flipOut=Transform.rotateZ(Math.PI/2),flipIn=Transform.inverse(flipOut);return{restrict:"A",priority:3,link:function(scope){function translateSquare(index){return 75*(index||0)}function enter(){return transform.set(Transform.multiply(transform.get(),flipIn),{duration:250,transition:SnapTransition}),opacity.set(1,{duration:250,curve:"easeOut"}),250}function leave(){return transform.set(Transform.multiply(transform.get(),flipOut),{duration:250,transition:SnapTransition}),opacity.set(0,{duration:250,curve:"easeIn"}),250}function halt(){scope.transform.halt()}var transform=new Transitionable(Transform.multiply(Transform.translate(translateSquare(scope.$index%4),60*Math.floor(scope.$index/4)+40,0),flipOut)),opacity=new Transitionable(0);angular.extend(scope,{enter:enter,leave:leave,halt:halt,opacity:opacity,transform:transform})}}}]),angular.module("famous-angular").controller("state1Ctrl",["$scope","$famous","$timeline","stateTransitions",function($scope,$famous,$timeline,stateTransitions){var Transitionable=$famous["famous/transitions/Transitionable"],Easing=$famous["famous/transitions/Easing"],t=new Transitionable(0);$scope.enter=function($done){t.delay(stateTransitions.enterDelay),t.set(1,{duration:4e3},$done)},$scope.leave=function($done){t.halt(),t.set(0,{duration:stateTransitions.leaveDuration},$done)},$scope.opacity=function(){return $timeline([[0,0,Easing.inOutQuart],[1,1]])(t.get())},$scope.content={translate:function(){return $timeline([[0,[-1e3,0,0],Easing.inOutQuart],[.2,[0,0,0]]])(t.get())}},$scope.code={frame:{translate:function(){return $timeline([[.3,[0,1e3,0],Easing.inOutQuart],[.5,[0,100,0]]])(t.get())}},header:{translate:function(){return $timeline([[.4,[0,1e3,0],Easing.inOutQuart],[.6,[0,120,0]]])(t.get())}},sidenav:{translate:function(){return $timeline([[.5,[0,-1e3,0],Easing.inOutQuart],[.7,[0,140,0]]])(t.get())}},container:{translate:function(){return $timeline([[.6,[-1e3,0,0],Easing.inOutQuart],[.8,[0,160,0]]])(t.get())}},content:{translate:function(){return $timeline([[.7,[-1e3,0,0],Easing.inOutQuart],[.9,[0,180,0]]])(t.get())}}},$scope.example={frame:{translate:function(){return $timeline([[.3,[0,-1e3,0],Easing.inOutQuart],[.5,[0,0,0]]])(t.get())}},header:{translate:function(){return $timeline([[.4,[0,-1e3,0],Easing.inOutQuart],[.6,[10,50,0]]])(t.get())}},sidenav:{translate:function(){return $timeline([[.5,[0,1e3,0],function(x){return x}],[.7,[10,90,0]]])(t.get())}},container:{translate:function(){return $timeline([[.6,[1e3,90,0],function(x){return x}],[.8,[70,90,0]]])(t.get())}},content:{translate:function(){return[90,110,0]},opacity:function(){return $timeline([[.8,0,Easing.inOutQuart],[1,1]])(t.get())},scale:function(){return $timeline([[.7,[.1,.1],Easing.inOutQuart],[1,[1,1]]])(t.get())}}}}]),angular.module("famous-angular").controller("state2Ctrl",["$scope","$famous","$timeline","stateTransitions",function($scope,$famous,$timeline,stateTransitions){var Transitionable=$famous["famous/transitions/Transitionable"],Easing=$famous["famous/transitions/Easing"],t=new Transitionable(0);$scope.enter=function($done){t.delay(stateTransitions.enterDelay),t.set(1,{duration:4e3},$done)},$scope.leave=function($done){t.halt(),t.set(0,{duration:stateTransitions.leaveDuration},$done)},$scope.data={name:"Angular",t:1},$scope.rotate=function(){var rotate=$timeline([[0,0,function(x){return x}],[100,2*Math.PI]])(parseInt($scope.data.t));return rotate},$scope.content={translate:function(){return $timeline([[0,[1e3,0,0],Easing.inOutQuart],[.2,[0,0,0]]])(t.get())}},$scope.code={frame:{translate:function(){return $timeline([[.3,[0,1e3,0],Easing.inOutQuart],[.5,[0,100,0]]])(t.get())}}},$scope.nametag={translate:function(){return $timeline([[0,[-1e3,0,0],Easing.inOutQuart],[.2,[0,0,0]]])(t.get())},body:{translate:function(){return[0,0,1]},opacity:function(){return $timeline([[.8,0,Easing.inOutQuart],[1,1]])(t.get())}},heading:{translate:function(){return[0,-70,2]},opacity:function(){return $timeline([[.8,0,Easing.inOutQuart],[1,1]])(t.get())}},stripe:{translate:function(){return[0,35,3]},opacity:function(){return $timeline([[.8,0,Easing.inOutQuart],[1,1]])(t.get())}},name:{translate:function(){return[0,25,4]},opacity:function(){return $timeline([[.8,0,Easing.inOutQuart],[1,1]])(t.get())}},inputRange:{translate:function(){return[0,230,0]},opacity:function(){return $timeline([[.8,0,Easing.inOutQuart],[1,1]])(t.get())}},inputText:{translate:function(){return[210,230,0]},opacity:function(){return $timeline([[.8,0,Easing.inOutQuart],[1,1]])(t.get())}}}}]),angular.module("famous-angular").controller("state3Ctrl",["$scope","$interval","$famous","$timeline","stateTransitions",function($scope,$interval,$famous,$timeline,stateTransitions){var Transitionable=$famous["famous/transitions/Transitionable"],Easing=$famous["famous/transitions/Easing"],t=new Transitionable(0);$scope.enter=function($done){t.delay(stateTransitions.enterDelay),t.set(1,{duration:4e3},$done)},$scope.leave=function($done){t.halt(),t.set(0,{duration:stateTransitions.leaveDuration},$done)},$scope.content={translate:function(){return $timeline([[0,[-1e3,0,0],Easing.inOutQuart],[.2,[0,0,0]]])(t.get())}},$scope.code={translate:function(){return $timeline([[.2,[0,1e3,0],Easing.inOutQuart],[.3,[0,100,0]]])(t.get())}},$scope.inputRange={translate:function(){return $timeline([[0,[1e3,0,0],Easing.inOutQuart],[.2,[0,320,0]]])(t.get())}},$scope.data={repeatCount:0},$scope.cats=[],$scope.$watch("data.repeatCount",function(newVal){if(newVal){$scope.cats=[];for(var i=0;i<Number(newVal);i++)$scope.cats.push(catData[i])}}),$scope.catTile={translate:function(catT,$index){var x=$index>=4?205:0,y=$index%4*80,z=0;return[x,y,z]},opacity:function(catT){return 1},rotateX:function(catT){return $timeline([[0,-Math.PI/2,Easing.outElastic],[1,0,Easing.inQuart],[2,-Math.PI/2]])(catT.get())}},setTimeout(function(){var repeatAutoplay=$interval(function(){return $scope.data.repeatCount+1>=9?void $interval.cancel(repeatAutoplay):void $scope.data.repeatCount++},100)},2e3),$scope.catEnter=function(t,$done){t.set(1,{duration:1500},$done)},$scope.catLeave=function(t,$done){t.halt(),t.set(2,{duration:100},function(){t.set(0,{duration:1}),$done()})};var catData=[{picture:"img/cats/cat1.png",name:"Rocco",location:"Seattle, WA",t:new Transitionable(0)},{picture:"img/cats/cat2.png",name:"Tabby",location:"Phoenix, AR",t:new Transitionable(0)},{picture:"img/cats/cat3.png",name:"Meiska",location:"Reston, VA",t:new Transitionable(0)},{picture:"img/cats/cat4.png",name:"Fat Max",location:"San Francisco, CA",t:new Transitionable(0)},{picture:"img/cats/cat5.png",name:"Izzy",location:"Atlanta, GA",t:new Transitionable(0)},{picture:"img/cats/cat6.png",name:"Powder",location:"Seattle, WA",t:new Transitionable(0)},{picture:"img/cats/cat7.png",name:"David",location:"Salem, OR",t:new Transitionable(0)},{picture:"img/cats/cat8.png",name:"Maggie",location:"Sarasota, FL",t:new Transitionable(0)}]}]),angular.module("famous-angular").controller("state4Ctrl",["$scope","$famous","$timeline","stateTransitions",function($scope,$famous,$timeline,stateTransitions){var Transitionable=$famous["famous/transitions/Transitionable"],Easing=$famous["famous/transitions/Easing"],t=new Transitionable(0);$scope.enter=function($done){t.delay(stateTransitions.enterDelay),t.set(1,{duration:4e3},$done)},$scope.leave=function($done){t.halt(),t.set(0,{duration:stateTransitions.leaveDuration},$done)},$scope.heading={translate:function(){return $timeline([[0,[-1500,0,0],Easing.inOutQuart],[.2,[0,0,0]]])(t.get())}},$scope.routing={image:{translate:function(){return $timeline([[0,[-1e3,0,0],Easing.inOutQuart],[.2,[95,190,0]]])(t.get())}},text:{translate:function(){return $timeline([[0,[-1e3,0,0],Easing.inOutQuart],[.2,[150,330,0]]])(t.get())}}},$scope.dependency={image:{translate:function(){return $timeline([[0,[-1e3,0,0],Easing.inOutQuart],[.2,[440,160,0]]])(t.get())}},text:{translate:function(){return $timeline([[0,[-1e3,0,0],Easing.inOutQuart],[.2,[410,330,0]]])(t.get())}}},$scope.modules={image:{translate:function(){return $timeline([[0,[-1e3,0,0],Easing.inOutQuart],[.2,[790,180,0]]])(t.get())}},text:{translate:function(){return $timeline([[0,[-1e3,0,0],Easing.inOutQuart],[.2,[830,330,0]]])(t.get())}}}}]),angular.module("famous-angular").controller("state5Ctrl",["$scope","$famous","$timeline","stateTransitions",function($scope,$famous,$timeline,stateTransitions){var Transitionable=$famous["famous/transitions/Transitionable"],Easing=$famous["famous/transitions/Easing"],t=new Transitionable(0);$scope.enter=function($done){t.delay(stateTransitions.enterDelay),t.set(1,{duration:4e3},$done)},$scope.leave=function($done){t.halt(),t.set(0,{duration:stateTransitions.leaveDuration},$done)},$scope.webframe={translate:function(){return $timeline([[0,[0,1e3,0],Easing.inOutQuart],[.2,[0,30,0]]])(t.get())},banner:{translate:function(){return $timeline([[0,[0,1e3,0],Easing.inOutQuart],[.2,[53,88,0]]])(t.get())}}},$scope.content={translate:function(){return $timeline([[0,[1e3,0,0],Easing.inOutQuart],[.2,[0,0,0]]])(t.get())}},$scope.code={translate:function(){return $timeline([[.3,[0,1e3,0],Easing.inOutQuart],[.5,[0,120,0]]])(t.get())}}}]),angular.module("famous-angular").controller("stateIntroCtrl",["$scope","$famous","$timeline","stateTransitions",function($scope,$famous,$timeline,stateTransitions){var Transitionable=$famous["famous/transitions/Transitionable"],Easing=$famous["famous/transitions/Easing"],t=new Transitionable(0);$scope.enter=function($done){t.delay(stateTransitions.enterDelay),t.set(1,{duration:4e3},$done)},$scope.leave=function($done){t.halt(),t.set(0,{duration:stateTransitions.leaveDuration},$done)},$scope.opacity=function(){return $timeline([[0,0,Easing.inOutQuart],[.5,1]])(t.get())}}]),angular.module("famous-angular").factory("stateTransitions",["$rootScope","$state",function($rootScope,$state){var prevState;return $rootScope.$on("$stateChangeStart",function(e,toState,toParams,fromState){prevState=fromState}),function(){return{enterDelay:function(){return prevState&&prevState.data?prevState.data.leaveAnimationDuration:0},leaveDuration:function(){return $state.current.data.leaveAnimationDuration}}}}]);